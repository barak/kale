% Maciej Goszczycki 2019
% Some tricks stolen from Conor Reynolds
\documentclass[11pt]{report}

% Fancy titles.
\usepackage[sc, bf]{titlesec}
% Moving images about. 'export' means swap out \includegraphics
\usepackage[export]{adjustbox}
% Add url support for web pages etc.
\usepackage[square, numbers]{natbib}
% For custom spacing
\usepackage{setspace}
\setstretch{1.15}
% Hack to get wrap fig to behave nicely near bottom of a page
\usepackage{needspace}
% For the \say command
\usepackage{dirtytalk}
% Figures etc.
\usepackage{graphicx}
\graphicspath{{figures/}}
% Force HERE floats.
\usepackage{float}
% Acronym support.
\usepackage{acro}
% Code listings.
\usepackage{fancyvrb}
% Extra appendix control; Add appendices to the toc and add a blank page.
\usepackage[page, toc]{appendix}
% Figure wrapping.
\usepackage{wrapfig}
% Additional control over itemize.
\usepackage{enumitem}
% For callout boxes
\usepackage{mdframed}
% PDFs links. Must be loaded before geometry, but as late as possible.
\usepackage{hyperref}
\hypersetup{
	pdftitle={Kale Visual Programming Environment},
	pdfauthor={Maciej Goszczycki},
	colorlinks,
	linkcolor={red!50!black},
	citecolor={red!50!black},
	urlcolor={blue!50!black}
}
% Make hyperref jump to the float, not just to a caption.
\usepackage[all]{hypcap}
% As required by the handbook.
\usepackage[a4paper, margin=25mm]{geometry}
% Menus and menu keys. Recommended to load late.
\usepackage[os=win]{menukeys}

\definecolor{calloutbg}{HTML}{fceda1}
\definecolor{calloutborder}{HTML}{C7B092}
\newenvironment{callouttip}[1]{
    \begin{mdframed}[style=titlecallout,
        linecolor=calloutborder, backgroundcolor=calloutbg,
        frametitle={#1}]
}{
	\medskip
    \end{mdframed}
}

\title{Preliminary Report on the \\ Kale Visual Programming Environment}
\author{Maciej Goszczycki - 16316981}
\date{\versionBox}

% Acronyms must be defined before the document starts.
\DeclareAcronym{svg}{short=SVG, long=Scalable Vector Graphics}
\DeclareAcronym{ui}{short=UI, long=user interface}
\DeclareAcronym{dom}{short=DOM, long=Document Object Model}
\DeclareAcronym{jsx}{short=JSX, long=JavaScript XML}
\DeclareAcronym{ci}{short=CI, long=Continuous Integration}

% Don't clear page.
\titleclass{\chapter}{straight}
% Inspired by Conor's thesis.
\titleformat
	{\chapter}
	% Shape.
	[display]
	% Format
	{\huge\bfseries}
	% Label
	{}
	% Sep
	{0pt}
	% Before
	{\Huge}
	% After
	[\vspace{-20pt}\rule{\textwidth}{0.3pt}]
 % The starred version means the par isn't indented
\titlespacing*{\chapter}{0pt}{0pt}{10pt}

% This must be defined before TOC, because the shortcut appendix uses it
% (even if it doesn't appear in the actual toc)
\newcommand{\ak}[1]{\keys{\arrowkey{#1}}}

% Based on
% https://tex.stackexchange.com/questions/115479/insert-footnotes-with-href
\usepackage{hyperref}
\newcommand\fnurl[2]{%
	\href{#2}{#1}\footnote{\url{#2}}%
}

\begin{document}

\input{titlepage}

% Print the toc etc.
\pagenumbering{roman}

\begin{callouttip}
\normalfont{The latest version of this report can be found at}
\url{https://kale.maciej.ie/report.pdf}
\end{callouttip}
\tableofcontents
\clearpage
\section*{Declaration}
\vspace{0.10\paperheight}
I hereby certify that this material, which I now submit for assessment
on the program of study as part of B.Sc Computer Science and Software
Engineering qualification,
is entirely my own work and has not been taken from the work of others 
save and to the extent that such work has been cited and acknowledged
within the text of my work. 

\vspace{0.10\paperheight}
\noindent I hereby acknowledge and accept that this thesis may be distributed to
future final year students, as an example of the standard expected of
final year projects.
\vspace{0.20\paperheight}

\textbf{Signed:}\hfill \textbf{Date:} Monday 13th April 2020
\clearpage

\pagenumbering{arabic}
% Start counting for real, now that we printed the toc.
\setcounter{page}{1}

% The wrapfig separation is too much.
\setlength\intextsep{0pt}

% Handy verb.
\DefineShortVerb{\|}

\input{chapters/abstract}

\input{chapters/introduction}

\input{chapters/technical_background}

\input{chapters/problem}

\input{chapters/solution}

\input{chapters/implementation}

\input{chapters/evaluation}

\input{chapters/conclusion}

\input{chapters/future_work}

% Make the reference ragged right.
\renewcommand*{\bibfont}{\raggedright}
% List in order of mention.
\bibliographystyle{unsrtnat}
\clearpage
\bibliography{bibliography.bib}

\begin{appendices}
	\input{appendices/commands}
	
	\input{appendices/design}
\end{appendices}

\end{document}
